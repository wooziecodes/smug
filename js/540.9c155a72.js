"use strict";(self["webpackChunksmug"]=self["webpackChunksmug"]||[]).push([[540],{4540:function(e,a,s){s.r(a),s.d(a,{default:function(){return M}});var o=s(6252),t=s(9963),n=s(3577);const r=e=>((0,o.dD)("data-v-43e78457"),e=e(),(0,o.Cn)(),e),i={id:"body"},l={class:"container",id:"container"},u={class:"form-container sign-up-container"},d=r((()=>(0,o._)("h2",null,"Create Account",-1))),c={class:"social-container"},p={key:0,class:"errorMsg"},g=r((()=>(0,o._)("br",null,null,-1))),h=r((()=>(0,o._)("br",null,null,-1))),m=r((()=>(0,o._)("button",{type:"submit",class:"submit_button btn-light",style:{"margin-top":"40px","border-radius":"8px"}},"Sign Up",-1))),v={class:"form-container sign-in-container"},b=r((()=>(0,o._)("h2",null,"Sign in",-1))),y={class:"social-container"},w={key:0,class:"errorMsg",style:{"margin-bottom":"5px"}},k=r((()=>(0,o._)("br",null,null,-1))),_=r((()=>(0,o._)("button",{type:"submit",class:"submit_button btn-light",style:{"margin-top":"40px","border-radius":"8px"}},"Sign In",-1))),f=(0,o.uE)('<div class="overlay-container" data-v-43e78457><div class="overlay" data-v-43e78457><div class="overlay-panel overlay-left" data-v-43e78457><img class="logo_img" alt="" data-v-43e78457><h2 data-v-43e78457>Welcome Back!</h2><p data-v-43e78457> To keep connected with us please login with your personal info </p><button class="submit_button_ghost ghost" style="font-family:&#39;Open Sans&#39;;border-radius:8px;" id="signIn" data-v-43e78457>Sign In</button></div><div class="overlay-panel overlay-right" data-v-43e78457><img class="logo_img" alt="" data-v-43e78457><h2 data-v-43e78457>Hello, Smuggers!</h2><p data-v-43e78457>Enter your personal details and start your journey with us</p><button class="submit_button_ghost ghost" style="border-radius:8px;" id="signUp" data-v-43e78457>Sign Up</button></div></div></div>',1);function I(e,a,s,r,I,E){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",l,[(0,o._)("div",u,[(0,o._)("form",{onSubmit:a[4]||(a[4]=(0,t.iM)(((...e)=>r.SignUp&&r.SignUp(...e)),["prevent"])),action:"#"},[d,(0,o._)("div",c,[r.SignUpError?((0,o.wg)(),(0,o.iD)("div",p,(0,n.zw)(r.SignUpErrMsg),1)):(0,o.kq)("",!0)]),(0,o.wy)((0,o._)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":a[0]||(a[0]=e=>r.email=e),style:{"border-radius":"8px"}},null,512),[[t.nr,r.email]]),g,(0,o.wy)((0,o._)("input",{name:"password1",type:"password",placeholder:"Password","onUpdate:modelValue":a[1]||(a[1]=e=>r.password=e),style:{"border-radius":"8px"}},null,512),[[t.nr,r.password]]),h,(0,o.wy)((0,o._)("input",{name:"password2",onBlur:a[2]||(a[2]=(...a)=>e.validate&&e.validate(...a)),type:"password",placeholder:"Confirm Password","onUpdate:modelValue":a[3]||(a[3]=e=>r.check_password=e),style:{"border-radius":"8px"}},null,544),[[t.nr,r.check_password]]),m],32)]),(0,o._)("div",v,[(0,o._)("form",{onSubmit:a[8]||(a[8]=(0,t.iM)(((...e)=>r.Login&&r.Login(...e)),["prevent"])),action:"#"},[b,(0,o._)("div",y,[r.LogInError?((0,o.wg)(),(0,o.iD)("div",w,(0,n.zw)(r.LogInErrMsg),1)):(0,o.kq)("",!0),(0,o._)("button",{type:"button",class:"login-with-google-btn",onClick:a[5]||(a[5]=(...e)=>r.signInWithGoogle&&r.signInWithGoogle(...e))}," Sign in with Google ")]),(0,o.wy)((0,o._)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":a[6]||(a[6]=e=>r.email=e),style:{"border-radius":"8px"}},null,512),[[t.nr,r.email]]),k,(0,o.wy)((0,o._)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":a[7]||(a[7]=e=>r.password=e),style:{"border-radius":"8px"}},null,512),[[t.nr,r.password]]),_],32)]),f])])}s(7658);var E=s(2262),U=s(6690),L=s(1589),S=s(6257),x=s(1153),H=s(2392),C={setup(){const e=(0,E.iH)(""),a=(0,E.iH)(""),o=(0,E.iH)("");let t=(0,E.iH)(""),n=(0,E.iH)(""),r=(0,E.iH)(!1),i=(0,E.iH)(!1),l=(0,E.iH)(!1);const u=()=>{a.value==o.value?(0,U.Xb)(H.I,e.value,a.value).then((e=>{alert("You have successfully signed up!");const a={bookmarked:[],confirmedBookings:[],pendingBookings:[],chats:[],email:e.user.email,faculty:"",major:"",payment:"Cash",rating:0,ratingCount:0,year:1,uid:e.user.uid,user:e.user.email.split("@")[0]},o=(0,S.hJ)(H.db,"users");(0,S.pl)((0,S.JU)(o),a).then((()=>{(0,S.PL)((0,S.IO)((0,S.hJ)(H.db,"users"),(0,S.ar)("uid","==",e.user.uid))).then((e=>{e.forEach((e=>{const a=(0,x.iH)(H.t,"users/"+e.id);(0,x.sf)(a,s(1897),"data_url").then((()=>{}))}))}))}))})).catch((e=>{switch(console.log(e.code),r.value=!0,i.value=!0,e.code){case"auth/email-already-in-use":t.value="This email is already in use!";break;case"auth/invalid-email":t.value="Invalid email";break;case"auth/invalid-password":t.value="Password must be at least 6 characters",console.log(t.value);break;case"auth/weak-password":t.value="Your password is too weak!",console.log(t.value);break;case"auth/too-many-requests":t.value="Too many requests";break;default:t.value="Email or password was incorrect";break}})):(i.value=!0,t.value="Two passwords do not match!")},d=()=>{const e=new U.hJ;(0,U.rh)((0,U.v0)(),e).then((e=>{(0,S.PL)((0,S.IO)((0,S.hJ)(H.db,"users"),(0,S.ar)("uid","==",e.user.uid))).then((a=>{if(0==a.docs){const a={bookmarked:[],confirmedBookings:[],pendingBookings:[],chats:[],email:e.user.email,faculty:"",major:"",payment:"Cash",rating:0,ratingCount:0,year:1,uid:e.user.uid,user:e.user.displayName},s=(0,S.hJ)(H.db,"users");(0,S.pl)((0,S.JU)(s),a).then((()=>{(0,S.PL)((0,S.IO)((0,S.hJ)(H.db,"users"),(0,S.ar)("uid","==",e.user.uid))).then((a=>{a.forEach((a=>{fetch(e.user.photoURL).then((e=>e.blob())).then((e=>{var s=new File([e],a.id);const o=(0,x.iH)(H.t,"users/"+a.id);(0,x.KV)(o,s).then((e=>{console.log("Uploaded!"),L.Z.push({name:"Profile"})}))}))}))}))}))}L.Z.push({name:"Listings"})}))})).catch((e=>{console.log(e.msg)}))},c=()=>{(0,U.e5)(H.I,e.value,a.value).then((()=>{console.log("success"),alert("You have successfully Logged In!"),L.Z.push({name:"Listings"})})).catch((e=>{switch(console.log(e),r.value=!0,l.value=!0,e.code){case"auth/invalid-email":n.value="Invalid email";break;case"auth/user-not-found":n.value="No account with that email was found";break;case"auth/wrong-password":n.value="Incorrect password";break;case"auth/too-many-requests":n.value="Too many requests";break}}))};return{signInWithGoogle:d,Login:c,SignUp:u,email:e,password:a,check_password:o,SignUpErrMsg:t,LogInErrMsg:n,SignUpError:i,LogInError:l,isError:r}},mounted(){const e=document.getElementById("signUp"),a=document.getElementById("signIn"),s=document.getElementById("container");e.addEventListener("click",(()=>{s.classList.add("right-panel-active"),this.isError&&(this.error=!0)})),a.addEventListener("click",(()=>{s.classList.remove("right-panel-active"),this.error=!1}))}},B=s(3744);const J=(0,B.Z)(C,[["render",I],["__scopeId","data-v-43e78457"]]);var M=J}}]);
//# sourceMappingURL=540.9c155a72.js.map